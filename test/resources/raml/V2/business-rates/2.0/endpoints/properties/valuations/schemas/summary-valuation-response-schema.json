{
  "$id": "http://api.service.hmrc.gov.uk/example.json",
  "type": "object",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "definitions": {
    "bulkValuationCharacteristics": {
      "description": " Valuation characteristics pertaining to properties classified as Bulk Class",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "basisOfMeasurement": {
          "type": "string",
          "description": "Basis of measurement"
        },
        "bulkClassIndicator": {
          "type": "string",
          "description": "Bulk class (Shop, Office, Factory, Warehouse, Land or Miscellaneous"
        },
        "valuationSchemeReference": {
          "type": "integer",
          "description": "Valuation scheme reference"
        },
        "unadjustedCostPerM2": {
          "type": "number",
          "description": "Base rate per m2 for this property "
        },
        "totalArea": {
          "type": "number",
          "description": "Total area of the property"
        },
        "subtotal": {
          "type": "number",
          "description": "Subtotal of Rateable Value"
        },
        "totalValue": {
          "type": "integer",
          "description": "Total Rateable Value before rounding"
        },
        "carParking": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "carParkingSpaces": {
              "type": "integer",
              "description": "Number of car parking spaces"
            },
            "carParkingSpaceTotal": {
              "type": "integer",
              "description": "Value of car parking space"
            },
            "carParkingArea": {
              "type": "integer",
              "description": "Area of car park"
            },
            "carParkingAreaTotal": {
              "type": "integer",
              "description": "Value of car park area"
            },
            "carParkingTotal": {
              "type": "integer",
              "description": "Total value of car parking"
            }
          }
        },
        "plantMachineryValue": {
          "type": "integer",
          "description": "Value of plant and machinery"
        },
        "propertyDetails": {
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "reference": {
                "type": "integer",
                "description": "Line reference"
              },
              "floor": {
                "type": "string",
                "description": "Floor"
              },
              "lineItemDescription": {
                "type": "string",
                "description": "Description of floor area"
              },
              "areaM2": {
                "type": "number",
                "description": "Floor area m2/unit "
              },
              "costPerM2": {
                "type": "number",
                "description": "Price per m2/unit"
              },
              "lineItemValue": {
                "type": "number",
                "description": "Value of floor area"
              }
            },
            "required": [
              "reference",
              "floor",
              "lineItemDescription",
              "lineItemValue"
            ]
          }
        },
        "additionalPropertyDetails": {
          "type": "array",
          "items": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "addItemDescription": {
                "type": "string",
                "description": "Other addition description"
              },
              "numberItems": {
                "type": "number",
                "description": "Other addition area m2/unit"
              },
              "costPerItem": {
                "type": "number",
                "description": "Other addition price per m2/unit"
              },
              "addItemValue": {
                "type": "number",
                "description": "Other addition value"
              }
            },
            "required": [
              "addItemDescription",
              "numberItems",
              "costPerItem",
              "addItemValue"
            ]
          }
        },
        "adjustmentsMade": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "totalBeforeAdjustments": {
              "type": "integer",
              "description": "The total before adjustments"
            },
            "adjustmentsMade": {
              "type": "array",
              "items": {
                "type": "object",
                "additionalProperties": false,
                "properties": {
                  "adjustmentDescription": {
                    "type": "string",
                    "description": "Adjustment description"
                  },
                  "adjustmentPercentage": {
                    "type": "number",
                    "description": "Adjustment percentage"
                  }
                },
                "required": [
                  "adjustmentDescription",
                  "adjustmentPercentage"
                ]
              }
            },
            "totalAdjustments": {
              "type": "integer",
              "description": "Total adjustments"
            }
          }
        }
      },
      "required": [
        "additionalPropertyDetails",
        "basisOfMeasurement",
        "subtotal",
        "totalArea",
        "totalValue",
        "unadjustedCostPerM2",
        "valuationSchemeReference"
      ]
    },
    "nonBulkValuationCharacteristics": {
      "description": " Valuation characteristics pertaining to properties other than those classified as Bulk Class",
      "type": "object",
      "additionalProperties": false,
      "properties": {}
    }
  },
  "properties": {
    "_links": {
      "type": "object",
      "additionalProperties": false,
      "description": "HATEOAS links",
      "properties": {
        "self": {
          "type": "object",
          "additionalProperties": false,
          "description": "Links to this resource",
          "properties": {
            "href": {
              "type": "string",
              "format": "uri",
              "pattern": "^https?://\\w+",
              "description": "URL for this link"
            },
            "template": {
              "type": "boolean",
              "description": "Is the HREF a RFC-6570 compliant URI Template"
            }
          },
          "required": [
            "href",
            "template"
          ]
        }
      }
    },
    "summaryValuation": {
      "type": "object",
      "additionalProperties": false,
      "description": "Summary valuation",
      "properties": {
        "uarn": {
          "type": "integer",
          "description": "Unique Address Reference Number"
        },
        "valuationId": {
          "type": "integer",
          "description": "The valuation ID"
        },
        "address": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "lines": {
              "type": "array",
              "items": {
                "type": "string",
                "description": "Address line"
              }
            },
            "postcode": {
              "type": "string",
              "description": "Postcode"
            }
          }
        },
        "year": {
          "type": "string",
          "description": "List Year"
        },
        "effectiveFrom": {
          "type": "string",
          "description": "The effective date as an ISO Date String"
        },
        "description": {
          "type": "string",
          "description": "Description of the property which has been valued"
        },
        "billingAuthority": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "billingAuthority": {
              "type": "string",
              "description": "Local authority"
            },
            "billingAuthorityReference": {
              "type": "string",
              "description": "Local authority reference"
            },
            "billingAuthCode": {
              "type": "string",
              "description": "Local authority code"
            }
          },
          "required": [
            "billingAuthority",
            "billingAuthorityReference",
            "billingAuthCode"
          ]
        },
        "specialCategoryCode": {
          "type": "string",
          "description": "Special category code"
        },
        "rateableValue": {
          "type": "integer",
          "description": "Rateable Value"
        },
        "deletedIndicator": {
          "type": "boolean",
          "description": "Indicates if the property has been deleted"
        },
        "belowRateReliefThreshold": {
          "type": "boolean",
          "description": "Transitional Relief certificate issued"
        },
        "valuationCharacteristics": {
          "oneOf": [
            {
              "$ref": "#/definitions/bulkValuationCharacteristics"
            },
            {
              "$ref": "#/definitions/nonBulkValuationCharacteristics"
            }
          ]
        }
      },
      "required": [
        "uarn",
        "valuationId",
        "address",
        "year",
        "effectiveFrom",
        "description",
        "specialCategoryCode",
        "belowRateReliefThreshold",
        "rateableValue",
        "billingAuthority"
      ]
    }
  },
  "required": [
    "_links",
    "summaryValuation"
  ]
}