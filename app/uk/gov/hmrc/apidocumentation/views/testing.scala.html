@*
 * Copyright 2018 HM Revenue & Customs
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *@

@import uk.gov.hmrc.apidocumentation.config._
@import uk.gov.hmrc.apidocumentation.models._
@import uk.gov.hmrc.apidocumentation.controllers
@import include._
@import partials.pagination

@(pageAttributes: PageAttributes)(implicit request: play.api.mvc.Request[Any], applicationConfig: ApplicationConfig, messages: Messages)

@apiMain(pageAttributes) {


    <h1 class="heading-xlarge">Testing in the sandbox</h1>

    <nav role="navigation">
        <div class="grid-row">
            <div class="column-one-half">
                <ul class="list">
                            <li>1. Getting started</li>
                            <li><a href="@controllers.routes.DocumentationController.testingStatefulBehaviourPage()">2. Stateful behaviour</a></li>
                        </ul>
                    </div>
            <div class="column-one-half">
                <ul class="list">
                    <li><a href="@controllers.routes.DocumentationController.testingDataClearDownPage()">3. Data clear down</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <hr aria-hidden="true">

    <h2 class="heading-large">Getting started</h2>
    <p>The sandbox environment is a simulator of our production environment. It allows integration testing of your application with our APIs without affecting the production environment.</p>
    <p>As the sandbox environment is integrated with the production environment, you don't need a separate sandbox account.</p>
    <h3 class="heading-medium">1. Add an application</h3>
    <p>Add a new sandbox application to use for testing.</p>
    <h3 class="heading-medium">2. Subscribe to an API</h3>
    <p>You have to subscribe to an API so your application can access it. Subscribe via the API subscriptions tab.</p>
    <h3 class="heading-medium">3. Get sandbox credentials</h3>
    <p>We issue your application with sandbox credentials which are available on the Credentials tab. These can only be used to access the sandbox environment.</p>
    <h3 class="heading-medium">4. Create a test user</h3>
    <p>To test <a href="@controllers.routes.DocumentationController.authorisationUserRestrictedEndpointsPage()">user-restricted endpoints</a>, you need to create one or more test users:</p>
    <ul class="list list-bullet">
        <li>use the <a href="/api-test-user">Create Test User Service</a> to manually create individuals or organisations with a default set of enrolments</li>
        <li>use the <a href="/api-documentation/docs/api/service/api-platform-test-user">Create Test User API</a> to create a wider variety of test users including agents or if you use automated testing</li>
    </ul>
    <p>Each test user is unique, with its own user ID, password and tax identifiers (for example SA UTR and NINO for an individual). The test user details are generated automatically by us - you cannot choose them.</p>
    <p>You can create as many test users as you like. Each new test user effectively provides a "clean" test environment. Test users can be shared across applications and between test team members, but they do have a <a href="@controllers.routes.DocumentationController.testingDataClearDownPage()">limited life span</a>.</p>

    @pagination(next = Some(Pagination("Stateful behaviour", controllers.routes.DocumentationController.testingStatefulBehaviourPage().url)))

}
